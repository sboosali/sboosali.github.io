<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Vinyl.Effects.Example</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Vinyl-Effects-Example.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/Vinyl-Effects-Example.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">vinyl-effects-0.0.0: TODO</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Vinyl.Effects.Example</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Effect #1: Clipboard</a><ul><li><a href="#g:2">overloaded constructors</a></li><li><a href="#g:3">e.g. reverseClipboard</a></li><li><a href="#g:4">the interpreter</a></li><li><a href="#g:5">the implementation</a></li></ul></li><li><a href="#g:6">Effect #2: Clipboard</a><ul><li><a href="#g:7">overloaded constructors</a></li><li><a href="#g:8">the interpreter</a></li><li><a href="#g:9">the implementation</a></li></ul></li><li><a href="#g:10">Workflow: #1 + #2</a><ul><li><a href="#g:11">e.g. openFromClipboard</a></li></ul></li><li><a href="#g:12">Reader, as an effect</a></li><li><a href="#g:13">Writer, as an effect</a></li><li><a href="#g:14">State, as an effect</a><ul><li><a href="#g:15">instance MonadLanguge RWS</a></li></ul></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>This module defines two effects (<code><a href="Vinyl-Effects-Example.html#t:Clipboard">Clipboard</a></code> and <code><a href="Vinyl-Effects-Example.html#t:OpenUrl">OpenUrl</a></code>),
and then composes them (<code><a href="Vinyl-Effects-Example.html#t:Workflow">Workflow</a></code>) &quot;on-the-fly&quot;.</p><p>For each effect, we:</p><ul><li>Define a functor (e.g. <code><a href="Vinyl-Effects-Example.html#t:ClipboardF">ClipboardF</a></code>).</li><li>(optionally, for convenience, define aliases for the constraint
(e.g. <code><a href="Vinyl-Effects-Example.html#t:MonadClipboard">MonadClipboard</a></code>) and effect-set (e.g. <code><a href="Vinyl-Effects-Example.html#t:Clipboard">Clipboard</a></code>)).</li><li>Define overloaded constructors (e.g. <code><a href="Vinyl-Effects-Example.html#v:getClipboard">getClipboard</a></code>, <code><a href="Vinyl-Effects-Example.html#v:setClipboard">setClipboard</a></code>). TODO th.</li><li>Define a handler (e.g. <code>(<code><a href="Vinyl-Effects-Example.html#v:handleClipboard">handleClipboard</a></code> :: <code><a href="Vinyl-Effects-Example.html#t:ClipboardF">ClipboardF</a></code> (<code><a href="../base-4.8.2.0/System-IO.html#t:IO">IO</a></code> a) -&gt; <code><a href="../base-4.8.2.0/System-IO.html#t:IO">IO</a></code> a)</code>),
which involves minimal boilerplate. (if you've used the <code>free</code> package,
you know how it's done).
Then, wrap that handler (e.g. with the shape <code><code><a href="Vinyl-Effects-Example.html#t:ClipboardF">ClipboardF</a></code> a -&gt; a</code>)
in an <code><a href="Vinyl-Effects-Interpreter-Simple.html#t:Interpreter">Interpreter</a></code>, for <em>extensibility</em>.</li></ul><p>You can use these effects extensibly, &quot;<code>mtl</code>-style&quot;. e.g.
Since <code><a href="Vinyl-Effects-Example.html#v:getClipboard">getClipboard</a></code> and <code><a href="Vinyl-Effects-Example.html#v:openUrl">openUrl</a></code> are overloaded, they can both be used in
<code><a href="Vinyl-Effects-Example.html#v:openFromClipboard">openFromClipboard</a></code>.</p><pre><code><a href="Vinyl-Effects-Example.html#v:openFromClipboard">openFromClipboard</a></code> = do   -- :: (<code><a href="Vinyl-Effects-Example.html#t:MonadClipboard">MonadClipboard</a></code> m, <code><a href="Vinyl-Effects-Example.html#t:MonadOpenUrl">MonadOpenUrl</a></code> m) =&gt; m ()
  s &lt;- <code><a href="Vinyl-Effects-Example.html#v:getClipboard">getClipboard</a></code>      -- :: (<code><a href="Vinyl-Effects-Example.html#t:MonadClipboard">MonadClipboard</a></code> m                ) =&gt; m String
  <code><a href="Vinyl-Effects-Example.html#v:openUrl">openUrl</a></code> s              -- :: (                  <code><a href="Vinyl-Effects-Example.html#t:MonadOpenUrl">MonadOpenUrl</a></code> m) =&gt; m ()
</pre><p>Note:</p><ul><li>the type of <code>openFromClipboard</code> is inferred.</li><li>the constraints are aliases; you don't need to write a new class
for each new effect type.</li><li>for compositions of effects (like <code><a href="Vinyl-Effects-Example.html#t:MonadWorkflow">MonadWorkflow</a></code>),
you don't even need to write a new type.
Just append the interpreters you want (with <code><a href="Vinyl-Effects-Interpreter-Simple.html#v:appendInterpreters">appendInterpreters</a></code>).</li></ul></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><a href="#v:main">main</a> :: <a href="../base-4.8.2.0/System-IO.html#t:IO">IO</a> ()</li><li class="src short"><span class="keyword">type</span> <a href="#t:MonadClipboard">MonadClipboard</a> m effects = (<a href="Vinyl-Effects-Language.html#t:MonadLanguage">MonadLanguage</a> m effects, <a href="Vinyl-Effects-Example.html#t:ClipboardF">ClipboardF</a> <a href="../vinyl-0.5.2/Data-Vinyl-Lens.html#t:-8712-">&#8712;</a> effects)</li><li class="src short"><span class="keyword">type</span> <a href="#t:Clipboard">Clipboard</a> = `[<a href="Vinyl-Effects-Example.html#t:ClipboardF">ClipboardF</a>]`</li><li class="src short"><span class="keyword">data</span> <a href="#t:ClipboardF">ClipboardF</a> k<ul class="subs"><li>= <a href="#v:GetClipboard">GetClipboard</a> (<a href="../base-4.8.2.0/Data-String.html#t:String">String</a> -&gt; k)</li><li>| <a href="#v:SetClipboard">SetClipboard</a> <a href="../base-4.8.2.0/Data-String.html#t:String">String</a> k</li></ul></li><li class="src short"><a href="#v:getClipboard">getClipboard</a> :: <a href="Vinyl-Effects-Example.html#t:MonadClipboard">MonadClipboard</a> m effects =&gt; m <a href="../base-4.8.2.0/Data-String.html#t:String">String</a></li><li class="src short"><a href="#v:setClipboard">setClipboard</a> :: <a href="Vinyl-Effects-Example.html#t:MonadClipboard">MonadClipboard</a> m effects =&gt; <a href="../base-4.8.2.0/Data-String.html#t:String">String</a> -&gt; m ()</li><li class="src short"><a href="#v:reverseClipboard">reverseClipboard</a> :: <a href="Vinyl-Effects-Example.html#t:MonadClipboard">MonadClipboard</a> m effects =&gt; m ()</li><li class="src short"><a href="#v:runClipboard">runClipboard</a> :: <a href="Vinyl-Effects-Language.html#t:Language">Language</a> `[<a href="Vinyl-Effects-Example.html#t:ClipboardF">ClipboardF</a>]` <a href="Vinyl-Effects-Types.html#t::-126--62-">:~&gt;</a> <a href="../base-4.8.2.0/System-IO.html#t:IO">IO</a></li><li class="src short"><a href="#v:interpretClipboard">interpretClipboard</a> :: <a href="Vinyl-Effects-Interpreter-Simple.html#t:Interpreter">Interpreter</a> <a href="../base-4.8.2.0/System-IO.html#t:IO">IO</a> `[<a href="Vinyl-Effects-Example.html#t:ClipboardF">ClipboardF</a>]`</li><li class="src short"><a href="#v:interpretClipboard2">interpretClipboard2</a> :: <a href="Vinyl-Effects-Interpreter-Simple.html#t:Interpreter">Interpreter</a> <a href="../base-4.8.2.0/System-IO.html#t:IO">IO</a> `[<a href="Vinyl-Effects-Example.html#t:ClipboardF">ClipboardF</a>]`</li><li class="src short"><a href="#v:handleClipboard">handleClipboard</a> :: <a href="Vinyl-Effects-Types.html#t:AnAlgebra">AnAlgebra</a> <a href="Vinyl-Effects-Example.html#t:ClipboardF">ClipboardF</a> (<a href="../base-4.8.2.0/System-IO.html#t:IO">IO</a> a)</li><li class="src short"><a href="#v:sh_GetClipboard">sh_GetClipboard</a> :: <a href="../base-4.8.2.0/System-IO.html#t:IO">IO</a> <a href="../base-4.8.2.0/Data-String.html#t:String">String</a></li><li class="src short"><a href="#v:sh_SetClipboard">sh_SetClipboard</a> :: <a href="../base-4.8.2.0/Data-String.html#t:String">String</a> -&gt; <a href="../base-4.8.2.0/System-IO.html#t:IO">IO</a> ()</li><li class="src short"><span class="keyword">type</span> <a href="#t:MonadOpenUrl">MonadOpenUrl</a> m effects = (<a href="Vinyl-Effects-Language.html#t:MonadLanguage">MonadLanguage</a> m effects, <a href="Vinyl-Effects-Example.html#t:OpenUrlF">OpenUrlF</a> <a href="../vinyl-0.5.2/Data-Vinyl-Lens.html#t:-8712-">&#8712;</a> effects)</li><li class="src short"><span class="keyword">type</span> <a href="#t:OpenUrl">OpenUrl</a> = `[<a href="Vinyl-Effects-Example.html#t:OpenUrlF">OpenUrlF</a>]`</li><li class="src short"><span class="keyword">data</span> <a href="#t:OpenUrlF">OpenUrlF</a> k</li><li class="src short"><a href="#v:openUrl">openUrl</a> :: <a href="Vinyl-Effects-Example.html#t:MonadOpenUrl">MonadOpenUrl</a> m effects =&gt; <a href="../base-4.8.2.0/Data-String.html#t:String">String</a> -&gt; m ()</li><li class="src short"><a href="#v:runOpenUrl">runOpenUrl</a> :: <a href="Vinyl-Effects-Language.html#t:Language">Language</a> `[<a href="Vinyl-Effects-Example.html#t:OpenUrlF">OpenUrlF</a>]` <a href="Vinyl-Effects-Types.html#t::-126--62-">:~&gt;</a> <a href="../base-4.8.2.0/System-IO.html#t:IO">IO</a></li><li class="src short"><a href="#v:interpretOpenUrl">interpretOpenUrl</a> :: <a href="Vinyl-Effects-Interpreter-Simple.html#t:Interpreter">Interpreter</a> <a href="../base-4.8.2.0/System-IO.html#t:IO">IO</a> `[<a href="Vinyl-Effects-Example.html#t:OpenUrlF">OpenUrlF</a>]`</li><li class="src short"><a href="#v:handleOpenUrl">handleOpenUrl</a> :: <a href="Vinyl-Effects-Types.html#t:AnAlgebra">AnAlgebra</a> <a href="Vinyl-Effects-Example.html#t:OpenUrlF">OpenUrlF</a> (<a href="../base-4.8.2.0/System-IO.html#t:IO">IO</a> a)</li><li class="src short"><a href="#v:sh_OpenUrl">sh_OpenUrl</a> :: <a href="../base-4.8.2.0/Data-String.html#t:String">String</a> -&gt; <a href="../base-4.8.2.0/System-IO.html#t:IO">IO</a> ()</li><li class="src short"><span class="keyword">type</span> <a href="#t:MonadWorkflow">MonadWorkflow</a> m effects = (<a href="Vinyl-Effects-Example.html#t:MonadClipboard">MonadClipboard</a> m effects, <a href="Vinyl-Effects-Example.html#t:MonadOpenUrl">MonadOpenUrl</a> m effects)</li><li class="src short"><span class="keyword">type</span> <a href="#t:Workflow">Workflow</a> = `[<a href="Vinyl-Effects-Example.html#t:ClipboardF">ClipboardF</a>, <a href="Vinyl-Effects-Example.html#t:OpenUrlF">OpenUrlF</a>]`</li><li class="src short"><a href="#v:runWorkflow">runWorkflow</a> :: <a href="Vinyl-Effects-Language.html#t:Language">Language</a> <a href="Vinyl-Effects-Example.html#t:Workflow">Workflow</a> <a href="Vinyl-Effects-Types.html#t::-126--62-">:~&gt;</a> <a href="../base-4.8.2.0/System-IO.html#t:IO">IO</a></li><li class="src short"><a href="#v:interpretWorkflow1">interpretWorkflow1</a> :: <a href="Vinyl-Effects-Interpreter-Simple.html#t:Interpreter">Interpreter</a> <a href="../base-4.8.2.0/System-IO.html#t:IO">IO</a> <a href="Vinyl-Effects-Example.html#t:Workflow">Workflow</a></li><li class="src short"><a href="#v:interpretWorkflow2">interpretWorkflow2</a> :: <a href="Vinyl-Effects-Interpreter-Simple.html#t:Interpreter">Interpreter</a> <a href="../base-4.8.2.0/System-IO.html#t:IO">IO</a> <a href="Vinyl-Effects-Example.html#t:Workflow">Workflow</a></li><li class="src short"><a href="#v:interpretOpenUrl2">interpretOpenUrl2</a> :: <a href="Vinyl-Effects-Interpreter-Simple.html#t:Interpreter">Interpreter</a> <a href="../base-4.8.2.0/System-IO.html#t:IO">IO</a> <a href="Vinyl-Effects-Example.html#t:OpenUrl">OpenUrl</a></li><li class="src short"><a href="#v:openFromClipboard">openFromClipboard</a> :: (<a href="../vinyl-0.5.2/Data-Vinyl-Lens.html#t:RElem">RElem</a> (* -&gt; *) <a href="Vinyl-Effects-Example.html#t:OpenUrlF">OpenUrlF</a> effects (<a href="../vinyl-0.5.2/Data-Vinyl-TypeLevel.html#t:RIndex">RIndex</a> (* -&gt; *) <a href="Vinyl-Effects-Example.html#t:OpenUrlF">OpenUrlF</a> effects), <a href="../vinyl-0.5.2/Data-Vinyl-Lens.html#t:RElem">RElem</a> (* -&gt; *) <a href="Vinyl-Effects-Example.html#t:ClipboardF">ClipboardF</a> effects (<a href="../vinyl-0.5.2/Data-Vinyl-TypeLevel.html#t:RIndex">RIndex</a> (* -&gt; *) <a href="Vinyl-Effects-Example.html#t:ClipboardF">ClipboardF</a> effects), <a href="Vinyl-Effects-Language.html#t:MonadLanguage">MonadLanguage</a> m effects) =&gt; m ()</li><li class="src short"><a href="#v:openFromClipboard_nothingSpecialized">openFromClipboard_nothingSpecialized</a> :: <a href="Vinyl-Effects-Example.html#t:MonadWorkflow">MonadWorkflow</a> m effects =&gt; m ()</li><li class="src short"><a href="#v:openFromClipboard_monadSpecialized">openFromClipboard_monadSpecialized</a> :: (<a href="Vinyl-Effects-Example.html#t:ClipboardF">ClipboardF</a> <a href="../vinyl-0.5.2/Data-Vinyl-Lens.html#t:-8712-">&#8712;</a> effects, <a href="Vinyl-Effects-Example.html#t:OpenUrlF">OpenUrlF</a> <a href="../vinyl-0.5.2/Data-Vinyl-Lens.html#t:-8712-">&#8712;</a> effects) =&gt; <a href="Vinyl-Effects-Language.html#t:Language">Language</a> effects ()</li><li class="src short"><a href="#v:openFromClipboard_effectsSpecialized">openFromClipboard_effectsSpecialized</a> :: <a href="Vinyl-Effects-Language.html#t:MonadLanguage">MonadLanguage</a> m `[<a href="Vinyl-Effects-Example.html#t:ClipboardF">ClipboardF</a>, <a href="Vinyl-Effects-Example.html#t:OpenUrlF">OpenUrlF</a>]` =&gt; m ()</li><li class="src short"><a href="#v:openFromClipboard_bothSpecialized">openFromClipboard_bothSpecialized</a> :: <a href="Vinyl-Effects-Language.html#t:Language">Language</a> `[<a href="Vinyl-Effects-Example.html#t:ClipboardF">ClipboardF</a>, <a href="Vinyl-Effects-Example.html#t:OpenUrlF">OpenUrlF</a>]` ()</li><li class="src short"><span class="keyword">type</span> <a href="#t:MonadReader">MonadReader</a> r m effects = (<a href="Vinyl-Effects-Language.html#t:MonadLanguage">MonadLanguage</a> m effects, <a href="Vinyl-Effects-Example.html#t:ReaderF">ReaderF</a> r <a href="../vinyl-0.5.2/Data-Vinyl-Lens.html#t:-8712-">&#8712;</a> effects)</li><li class="src short"><span class="keyword">type</span> <a href="#t:Reader">Reader</a> r = `[<a href="Vinyl-Effects-Example.html#t:ReaderF">ReaderF</a> r]`</li><li class="src short"><span class="keyword">data</span> <a href="#t:ReaderF">ReaderF</a> r k</li><li class="src short"><a href="#v:ask">ask</a> :: <a href="Vinyl-Effects-Example.html#t:MonadReader">MonadReader</a> r m effects =&gt; m r</li><li class="src short"><span class="keyword">type</span> <a href="#t:MonadWriter">MonadWriter</a> w m effects = (<a href="Vinyl-Effects-Language.html#t:MonadLanguage">MonadLanguage</a> m effects, <a href="Vinyl-Effects-Example.html#t:WriterF">WriterF</a> w <a href="../vinyl-0.5.2/Data-Vinyl-Lens.html#t:-8712-">&#8712;</a> effects)</li><li class="src short"><span class="keyword">type</span> <a href="#t:Writer">Writer</a> w = `[<a href="Vinyl-Effects-Example.html#t:WriterF">WriterF</a> w]`</li><li class="src short"><span class="keyword">data</span> <a href="#t:WriterF">WriterF</a> w k</li><li class="src short"><a href="#v:tell">tell</a> :: <a href="Vinyl-Effects-Example.html#t:MonadWriter">MonadWriter</a> w m effects =&gt; w -&gt; m ()</li><li class="src short"><span class="keyword">type</span> <a href="#t:MonadState">MonadState</a> s m effects = (<a href="Vinyl-Effects-Language.html#t:MonadLanguage">MonadLanguage</a> m effects, <a href="Vinyl-Effects-Example.html#t:StateF">StateF</a> s <a href="../vinyl-0.5.2/Data-Vinyl-Lens.html#t:-8712-">&#8712;</a> effects)</li><li class="src short"><span class="keyword">type</span> <a href="#t:State">State</a> s = `[<a href="Vinyl-Effects-Example.html#t:StateF">StateF</a> s]`</li><li class="src short"><span class="keyword">data</span> <a href="#t:StateF">StateF</a> s k</li><li class="src short"><a href="#v:get">get</a> :: <a href="Vinyl-Effects-Example.html#t:MonadState">MonadState</a> s m effects =&gt; m s</li><li class="src short"><a href="#v:put">put</a> :: <a href="Vinyl-Effects-Example.html#t:MonadState">MonadState</a> s m effects =&gt; s -&gt; m ()</li><li class="src short"><span class="keyword">newtype</span> <a href="#t:RWS">RWS</a> r w s a = <a href="#v:RWS">RWS</a> {<ul class="subs"><li><a href="#v:getRWS">getRWS</a> :: <a href="../mtl-2.2.1/Control-Monad-Reader.html#t:ReaderT">ReaderT</a> r (<a href="../mtl-2.2.1/Control-Monad-Writer-Lazy.html#t:WriterT">WriterT</a> w (<a href="../mtl-2.2.1/Control-Monad-State-Lazy.html#t:StateT">StateT</a> s <a href="../base-4.8.2.0/Data-Functor-Identity.html#t:Identity">Identity</a>)) a</li></ul>}</li><li class="src short"><a href="#v:runRWS">runRWS</a> :: <a href="../base-4.8.2.0/Data-Monoid.html#t:Monoid">Monoid</a> w =&gt; r -&gt; s -&gt; <a href="Vinyl-Effects-Example.html#t:RWS">RWS</a> r w s a -&gt; (a, w, s)</li><li class="src short"><a href="#v:liftRWS">liftRWS</a> :: <a href="../base-4.8.2.0/Data-Monoid.html#t:Monoid">Monoid</a> w =&gt; <a href="../vinyl-0.5.2/Data-Vinyl-Core.html#t:Rec">Rec</a> (<a href="Vinyl-Effects-Types.html#t:OpNaturalTransformation">OpNaturalTransformation</a> (<a href="Vinyl-Effects-Example.html#t:RWS">RWS</a> r w s)) `[<a href="Vinyl-Effects-Example.html#t:ReaderF">ReaderF</a> r, <a href="Vinyl-Effects-Example.html#t:WriterF">WriterF</a> w, <a href="Vinyl-Effects-Example.html#t:StateF">StateF</a> s]`</li><li class="src short"><a href="#v:liftReaderF">liftReaderF</a> :: <a href="../base-4.8.2.0/Data-Monoid.html#t:Monoid">Monoid</a> w =&gt; <a href="Vinyl-Effects-Example.html#t:ReaderF">ReaderF</a> r a -&gt; <a href="Vinyl-Effects-Example.html#t:RWS">RWS</a> r w s a</li><li class="src short"><a href="#v:liftWriterF">liftWriterF</a> :: <a href="../base-4.8.2.0/Data-Monoid.html#t:Monoid">Monoid</a> w =&gt; <a href="Vinyl-Effects-Example.html#t:WriterF">WriterF</a> w a -&gt; <a href="Vinyl-Effects-Example.html#t:RWS">RWS</a> r w s a</li><li class="src short"><a href="#v:liftStateF">liftStateF</a> :: <a href="../base-4.8.2.0/Data-Monoid.html#t:Monoid">Monoid</a> w =&gt; <a href="Vinyl-Effects-Example.html#t:StateF">StateF</a> s a -&gt; <a href="Vinyl-Effects-Example.html#t:RWS">RWS</a> r w s a</li><li class="src short"><a href="#v:exampleRWS">exampleRWS</a> :: (<a href="Vinyl-Effects-Example.html#t:MonadReader">MonadReader</a> <a href="../base-4.8.2.0/Data-Bool.html#t:Bool">Bool</a> m effects, <a href="Vinyl-Effects-Example.html#t:MonadWriter">MonadWriter</a> [<a href="../base-4.8.2.0/Data-String.html#t:String">String</a>] m effects, <a href="Vinyl-Effects-Example.html#t:MonadState">MonadState</a> i m effects, <a href="../base-4.8.2.0/Prelude.html#t:Num">Num</a> i, <a href="../base-4.8.2.0/Text-Show.html#t:Show">Show</a> i) =&gt; m i</li><li class="src short"><a href="#v:exampleRWS_specializedLanguage">exampleRWS_specializedLanguage</a> :: (<a href="../base-4.8.2.0/Prelude.html#t:Num">Num</a> i, <a href="../base-4.8.2.0/Text-Show.html#t:Show">Show</a> i) =&gt; <a href="Vinyl-Effects-Language.html#t:Language">Language</a> `[<a href="Vinyl-Effects-Example.html#t:ReaderF">ReaderF</a> <a href="../base-4.8.2.0/Data-Bool.html#t:Bool">Bool</a>, <a href="Vinyl-Effects-Example.html#t:WriterF">WriterF</a> [<a href="../base-4.8.2.0/Data-String.html#t:String">String</a>], <a href="Vinyl-Effects-Example.html#t:StateF">StateF</a> i]` i</li><li class="src short"><a href="#v:exampleRWS_specializedRWS">exampleRWS_specializedRWS</a> :: (<a href="../base-4.8.2.0/Prelude.html#t:Num">Num</a> i, <a href="../base-4.8.2.0/Text-Show.html#t:Show">Show</a> i) =&gt; <a href="Vinyl-Effects-Example.html#t:RWS">RWS</a> <a href="../base-4.8.2.0/Data-Bool.html#t:Bool">Bool</a> [<a href="../base-4.8.2.0/Data-String.html#t:String">String</a>] i i</li></ul></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><a name="v:main" class="def">main</a> :: <a href="../base-4.8.2.0/System-IO.html#t:IO">IO</a> () <a href="src/Vinyl-Effects-Example.html#main" class="link">Source</a></p><div class="doc"><p>run with:</p><pre>stack build &amp;&amp; stack exec example-vinyl-effects
</pre><p>(read the source too).</p></div></div><h1 id="g:1">Effect #1: Clipboard</h1><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:MonadClipboard" class="def">MonadClipboard</a> m effects = (<a href="Vinyl-Effects-Language.html#t:MonadLanguage">MonadLanguage</a> m effects, <a href="Vinyl-Effects-Example.html#t:ClipboardF">ClipboardF</a> <a href="../vinyl-0.5.2/Data-Vinyl-Lens.html#t:-8712-">&#8712;</a> effects) <a href="src/Vinyl-Effects-Example.html#MonadClipboard" class="link">Source</a></p><div class="doc"><p>the constraint</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:Clipboard" class="def">Clipboard</a> = `[<a href="Vinyl-Effects-Example.html#t:ClipboardF">ClipboardF</a>]` <a href="src/Vinyl-Effects-Example.html#Clipboard" class="link">Source</a></p><div class="doc"><p>the set of effects (one)</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:ClipboardF" class="def">ClipboardF</a> k <a href="src/Vinyl-Effects-Example.html#ClipboardF" class="link">Source</a></p><div class="doc"><p>the functor</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:GetClipboard" class="def">GetClipboard</a> (<a href="../base-4.8.2.0/Data-String.html#t:String">String</a> -&gt; k)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:SetClipboard" class="def">SetClipboard</a> <a href="../base-4.8.2.0/Data-String.html#t:String">String</a> k</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:ClipboardF" class="caption collapser" onclick="toggleSection('i:ClipboardF')">Instances</p><div id="section.i:ClipboardF" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Data-Functor.html#t:Functor">Functor</a> <a href="Vinyl-Effects-Example.html#t:ClipboardF">ClipboardF</a></span> <a href="src/Vinyl-Effects-Example.html#line-367" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><h2 id="g:2">overloaded constructors</h2><div class="top"><p class="src"><a name="v:getClipboard" class="def">getClipboard</a> :: <a href="Vinyl-Effects-Example.html#t:MonadClipboard">MonadClipboard</a> m effects =&gt; m <a href="../base-4.8.2.0/Data-String.html#t:String">String</a> <a href="src/Vinyl-Effects-Example.html#getClipboard" class="link">Source</a></p><div class="doc"><pre>getClipboard = <code><a href="Vinyl-Effects-Language.html#v:liftL">liftL</a></code> $ <code><a href="Vinyl-Effects-Example.html#v:GetClipboard">GetClipboard</a></code> id</pre></div></div><div class="top"><p class="src"><a name="v:setClipboard" class="def">setClipboard</a> :: <a href="Vinyl-Effects-Example.html#t:MonadClipboard">MonadClipboard</a> m effects =&gt; <a href="../base-4.8.2.0/Data-String.html#t:String">String</a> -&gt; m () <a href="src/Vinyl-Effects-Example.html#setClipboard" class="link">Source</a></p><div class="doc"><pre>setClipboard s = <code><a href="Vinyl-Effects-Language.html#v:liftL">liftL</a></code> $ <code><a href="Vinyl-Effects-Example.html#v:SetClipboard">SetClipboard</a></code> s ()</pre></div></div><h2 id="g:3">e.g. reverseClipboard</h2><div class="top"><p class="src"><a name="v:reverseClipboard" class="def">reverseClipboard</a> :: <a href="Vinyl-Effects-Example.html#t:MonadClipboard">MonadClipboard</a> m effects =&gt; m () <a href="src/Vinyl-Effects-Example.html#reverseClipboard" class="link">Source</a></p><div class="doc"><p>derived from the two primitves.</p></div></div><h2 id="g:4">the interpreter</h2><div class="top"><p class="src"><a name="v:runClipboard" class="def">runClipboard</a> :: <a href="Vinyl-Effects-Language.html#t:Language">Language</a> `[<a href="Vinyl-Effects-Example.html#t:ClipboardF">ClipboardF</a>]` <a href="Vinyl-Effects-Types.html#t::-126--62-">:~&gt;</a> <a href="../base-4.8.2.0/System-IO.html#t:IO">IO</a> <a href="src/Vinyl-Effects-Example.html#runClipboard" class="link">Source</a></p><div class="doc"><p>calls <code><a href="Vinyl-Effects-Interpreter-Simple.html#v:interpretLanguage">interpretLanguage</a></code>.</p><p>when using free monads directly, you would:</p><pre>runClipboard = <code>iterTM</code> handleClipboard
</pre></div></div><div class="top"><p class="src"><a name="v:interpretClipboard" class="def">interpretClipboard</a> :: <a href="Vinyl-Effects-Interpreter-Simple.html#t:Interpreter">Interpreter</a> <a href="../base-4.8.2.0/System-IO.html#t:IO">IO</a> `[<a href="Vinyl-Effects-Example.html#t:ClipboardF">ClipboardF</a>]` <a href="src/Vinyl-Effects-Example.html#interpretClipboard" class="link">Source</a></p><div class="doc"><p>definition #1:
&quot;inject&quot; a  handler into an interpreter with <code><a href="Vinyl-Effects-Interpreter-Simple.html#v:singletonInterpreter">singletonInterpreter</a></code>.</p><pre><code><a href="Vinyl-Effects-Interpreter-Simple.html#v:singletonInterpreter">singletonInterpreter</a></code> <code><a href="Vinyl-Effects-Example.html#v:handleClipboard">handleClipboard</a></code>
</pre></div></div><div class="top"><p class="src"><a name="v:interpretClipboard2" class="def">interpretClipboard2</a> :: <a href="Vinyl-Effects-Interpreter-Simple.html#t:Interpreter">Interpreter</a> <a href="../base-4.8.2.0/System-IO.html#t:IO">IO</a> `[<a href="Vinyl-Effects-Example.html#t:ClipboardF">ClipboardF</a>]` <a href="src/Vinyl-Effects-Example.html#interpretClipboard2" class="link">Source</a></p><div class="doc"><p>definition #2:
 constructed and interpreted directly from single handler.</p><pre>= <code><a href="Vinyl-Effects-Interpreter-Simple.html#t:Interpreter">Interpreter</a></code>
  $ <code><a href="Vinyl-Effects-Interpreter-Simple.html#t:HandlerM">HandlerM</a></code> <code><a href="Vinyl-Effects-Example.html#v:handleClipboard">handleClipboard</a></code>
  <code><a href="../vinyl-0.5.2/Data-Vinyl-Core.html#v::-38-">:&amp;</a></code> <code><a href="../vinyl-0.5.2/Data-Vinyl-Core.html#v:RNil">RNil</a></code>
</pre></div></div><div class="top"><p class="src"><a name="v:handleClipboard" class="def">handleClipboard</a> :: <a href="Vinyl-Effects-Types.html#t:AnAlgebra">AnAlgebra</a> <a href="Vinyl-Effects-Example.html#t:ClipboardF">ClipboardF</a> (<a href="../base-4.8.2.0/System-IO.html#t:IO">IO</a> a) <a href="src/Vinyl-Effects-Example.html#handleClipboard" class="link">Source</a></p><div class="doc"><p>glue the functor to its effects.</p><pre>handleClipboard = \case
  <code><a href="Vinyl-Effects-Example.html#v:GetClipboard">GetClipboard</a></code> f   -&gt; <code><a href="Vinyl-Effects-Example.html#v:sh_GetClipboard">sh_GetClipboard</a></code> <code><a href="../base-4.8.2.0/Control-Monad.html#v:-62--62--61-">&gt;&gt;=</a></code> f
  <code><a href="Vinyl-Effects-Example.html#v:SetClipboard">SetClipboard</a></code> s k -&gt; <code><a href="Vinyl-Effects-Example.html#v:sh_SetClipboard">sh_SetClipboard</a></code> s <code><a href="../base-4.8.2.0/Control-Monad.html#v:-62--62-">&gt;&gt;</a></code> k
</pre></div></div><h2 id="g:5">the implementation</h2><div class="top"><p class="src"><a name="v:sh_GetClipboard" class="def">sh_GetClipboard</a> :: <a href="../base-4.8.2.0/System-IO.html#t:IO">IO</a> <a href="../base-4.8.2.0/Data-String.html#t:String">String</a> <a href="src/Vinyl-Effects-Example.html#sh_GetClipboard" class="link">Source</a></p><div class="doc"><p>shells out (<code>$ pbpaste</code>), works only on OSX.</p></div></div><div class="top"><p class="src"><a name="v:sh_SetClipboard" class="def">sh_SetClipboard</a> :: <a href="../base-4.8.2.0/Data-String.html#t:String">String</a> -&gt; <a href="../base-4.8.2.0/System-IO.html#t:IO">IO</a> () <a href="src/Vinyl-Effects-Example.html#sh_SetClipboard" class="link">Source</a></p><div class="doc"><p>shells out (<code>$ ... | pbcopy</code>), works only on OSX. blocking.</p></div></div><h1 id="g:6">Effect #2: Clipboard</h1><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:MonadOpenUrl" class="def">MonadOpenUrl</a> m effects = (<a href="Vinyl-Effects-Language.html#t:MonadLanguage">MonadLanguage</a> m effects, <a href="Vinyl-Effects-Example.html#t:OpenUrlF">OpenUrlF</a> <a href="../vinyl-0.5.2/Data-Vinyl-Lens.html#t:-8712-">&#8712;</a> effects) <a href="src/Vinyl-Effects-Example.html#MonadOpenUrl" class="link">Source</a></p><div class="doc"><p>the constraint</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:OpenUrl" class="def">OpenUrl</a> = `[<a href="Vinyl-Effects-Example.html#t:OpenUrlF">OpenUrlF</a>]` <a href="src/Vinyl-Effects-Example.html#OpenUrl" class="link">Source</a></p><div class="doc"><p>the set of effects (one)</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:OpenUrlF" class="def">OpenUrlF</a> k <a href="src/Vinyl-Effects-Example.html#OpenUrlF" class="link">Source</a></p><div class="doc"><p>the functor</p></div><div class="subs instances"><p id="control.i:OpenUrlF" class="caption collapser" onclick="toggleSection('i:OpenUrlF')">Instances</p><div id="section.i:OpenUrlF" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Data-Functor.html#t:Functor">Functor</a> <a href="Vinyl-Effects-Example.html#t:OpenUrlF">OpenUrlF</a></span> <a href="src/Vinyl-Effects-Example.html#line-503" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><h2 id="g:7">overloaded constructors</h2><div class="top"><p class="src"><a name="v:openUrl" class="def">openUrl</a> :: <a href="Vinyl-Effects-Example.html#t:MonadOpenUrl">MonadOpenUrl</a> m effects =&gt; <a href="../base-4.8.2.0/Data-String.html#t:String">String</a> -&gt; m () <a href="src/Vinyl-Effects-Example.html#openUrl" class="link">Source</a></p><div class="doc"><pre>openUrl s = <code><a href="Vinyl-Effects-Language.html#v:liftL">liftL</a></code> $ <code><a href="Vinyl-Effects-Example.html#t:OpenUrl">OpenUrl</a></code> s ()</pre></div></div><h2 id="g:8">the interpreter</h2><div class="top"><p class="src"><a name="v:runOpenUrl" class="def">runOpenUrl</a> :: <a href="Vinyl-Effects-Language.html#t:Language">Language</a> `[<a href="Vinyl-Effects-Example.html#t:OpenUrlF">OpenUrlF</a>]` <a href="Vinyl-Effects-Types.html#t::-126--62-">:~&gt;</a> <a href="../base-4.8.2.0/System-IO.html#t:IO">IO</a> <a href="src/Vinyl-Effects-Example.html#runOpenUrl" class="link">Source</a></p><div class="doc"><pre>runOpenUrl = interpretLanguage interpretOpenUrl
</pre></div></div><div class="top"><p class="src"><a name="v:interpretOpenUrl" class="def">interpretOpenUrl</a> :: <a href="Vinyl-Effects-Interpreter-Simple.html#t:Interpreter">Interpreter</a> <a href="../base-4.8.2.0/System-IO.html#t:IO">IO</a> `[<a href="Vinyl-Effects-Example.html#t:OpenUrlF">OpenUrlF</a>]` <a href="src/Vinyl-Effects-Example.html#interpretOpenUrl" class="link">Source</a></p><div class="doc"><pre>interpretOpenUrl = <code><a href="Vinyl-Effects-Interpreter-Simple.html#v:singletonInterpreter">singletonInterpreter</a></code> $ case
  <code><a href="Vinyl-Effects-Example.html#t:OpenUrl">OpenUrl</a></code> s k -&gt; <code><a href="Vinyl-Effects-Example.html#v:sh_OpenUrl">sh_OpenUrl</a></code> s &gt;&gt; k
</pre><p>can extract the &quot;co-algebra&quot; with</p><pre>handleOpenUrl = <code><a href="Vinyl-Effects-Interpreter-Simple.html#v:fromSingletonInterpreter">fromSingletonInterpreter</a></code> interpretOpenUrl
</pre></div></div><div class="top"><p class="src"><a name="v:handleOpenUrl" class="def">handleOpenUrl</a> :: <a href="Vinyl-Effects-Types.html#t:AnAlgebra">AnAlgebra</a> <a href="Vinyl-Effects-Example.html#t:OpenUrlF">OpenUrlF</a> (<a href="../base-4.8.2.0/System-IO.html#t:IO">IO</a> a) <a href="src/Vinyl-Effects-Example.html#handleOpenUrl" class="link">Source</a></p><div class="doc"><p>glue the functor to its effects.</p><pre>handleOpenUrl = \case
  <code><a href="Vinyl-Effects-Example.html#t:OpenUrl">OpenUrl</a></code> s k -&gt; <code><a href="Vinyl-Effects-Example.html#v:sh_OpenUrl">sh_OpenUrl</a></code> s <code><a href="../base-4.8.2.0/Control-Monad.html#v:-62--62-">&gt;&gt;</a></code> k
</pre></div></div><h2 id="g:9">the implementation</h2><div class="top"><p class="src"><a name="v:sh_OpenUrl" class="def">sh_OpenUrl</a> :: <a href="../base-4.8.2.0/Data-String.html#t:String">String</a> -&gt; <a href="../base-4.8.2.0/System-IO.html#t:IO">IO</a> () <a href="src/Vinyl-Effects-Example.html#sh_OpenUrl" class="link">Source</a></p><div class="doc"><p>shells out (<code>$ open ...</code>), should work cross-platform. blocking.</p></div></div><h1 id="g:10">Workflow: #1 + #2</h1><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:MonadWorkflow" class="def">MonadWorkflow</a> m effects = (<a href="Vinyl-Effects-Example.html#t:MonadClipboard">MonadClipboard</a> m effects, <a href="Vinyl-Effects-Example.html#t:MonadOpenUrl">MonadOpenUrl</a> m effects) <a href="src/Vinyl-Effects-Example.html#MonadWorkflow" class="link">Source</a></p><div class="doc"><p>a constraint (with <code>-XConstraintKinds</code>).</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:Workflow" class="def">Workflow</a> = `[<a href="Vinyl-Effects-Example.html#t:ClipboardF">ClipboardF</a>, <a href="Vinyl-Effects-Example.html#t:OpenUrlF">OpenUrlF</a>]` <a href="src/Vinyl-Effects-Example.html#Workflow" class="link">Source</a></p><div class="doc"><p>a set of two effects.</p></div></div><div class="top"><p class="src"><a name="v:runWorkflow" class="def">runWorkflow</a> :: <a href="Vinyl-Effects-Language.html#t:Language">Language</a> <a href="Vinyl-Effects-Example.html#t:Workflow">Workflow</a> <a href="Vinyl-Effects-Types.html#t::-126--62-">:~&gt;</a> <a href="../base-4.8.2.0/System-IO.html#t:IO">IO</a> <a href="src/Vinyl-Effects-Example.html#runWorkflow" class="link">Source</a></p><div class="doc"><p>run an ad-hoc grouping of two effects.</p><pre>runWorkflow = <code><a href="Vinyl-Effects-Interpreter-Simple.html#v:interpretLanguage">interpretLanguage</a></code> interpretWorkflow1
</pre><p>can run any action of type:</p><pre>(<code><a href="Vinyl-Effects-Example.html#t:MonadWorkflow">MonadWorkflow</a></code> m effects) =&gt; m a</pre></div></div><div class="top"><p class="src"><a name="v:interpretWorkflow1" class="def">interpretWorkflow1</a> :: <a href="Vinyl-Effects-Interpreter-Simple.html#t:Interpreter">Interpreter</a> <a href="../base-4.8.2.0/System-IO.html#t:IO">IO</a> <a href="Vinyl-Effects-Example.html#t:Workflow">Workflow</a> <a href="src/Vinyl-Effects-Example.html#interpretWorkflow1" class="link">Source</a></p><div class="doc"><p>definition #1:  compose interpreters by appending vinyl records.</p><pre>interpretWorkflow = <code><a href="Vinyl-Effects-Interpreter-Simple.html#v:appendInterpreters">appendInterpreters</a></code> <code><a href="Vinyl-Effects-Example.html#v:interpretClipboard">interpretClipboard</a></code> <code><a href="Vinyl-Effects-Example.html#v:interpretOpenUrl">interpretOpenUrl</a></code>
</pre><p>no new <code>Either</code>-like <code>data</code>types needed,
the <code>type</code>-aliases are only for clarity.</p></div></div><div class="top"><p class="src"><a name="v:interpretWorkflow2" class="def">interpretWorkflow2</a> :: <a href="Vinyl-Effects-Interpreter-Simple.html#t:Interpreter">Interpreter</a> <a href="../base-4.8.2.0/System-IO.html#t:IO">IO</a> <a href="Vinyl-Effects-Example.html#t:Workflow">Workflow</a> <a href="src/Vinyl-Effects-Example.html#interpretWorkflow2" class="link">Source</a></p><div class="doc"><p>definition #2: Construct an interpreter directly, via handlers.</p><pre><code><a href="Vinyl-Effects-Interpreter-Simple.html#t:Interpreter">Interpreter</a></code>
  $ <code><a href="Vinyl-Effects-Interpreter-Simple.html#t:HandlerM">HandlerM</a></code> <code><a href="Vinyl-Effects-Example.html#v:handleClipboard">handleClipboard</a></code>
 :&amp; <code><a href="Vinyl-Effects-Interpreter-Simple.html#t:HandlerM">HandlerM</a></code> <code><a href="Vinyl-Effects-Example.html#v:handleOpenUrl">handleOpenUrl</a></code>
 :&amp; RNil
</pre></div></div><div class="top"><p class="src"><a name="v:interpretOpenUrl2" class="def">interpretOpenUrl2</a> :: <a href="Vinyl-Effects-Interpreter-Simple.html#t:Interpreter">Interpreter</a> <a href="../base-4.8.2.0/System-IO.html#t:IO">IO</a> <a href="Vinyl-Effects-Example.html#t:OpenUrl">OpenUrl</a> <a href="src/Vinyl-Effects-Example.html#interpretOpenUrl2" class="link">Source</a></p><div class="doc"><p>If we can handle an effect, plus some others;
then we can handle that effect, alone.</p><pre><code><a href="Vinyl-Effects-Example.html#v:interpretOpenUrl2">interpretOpenUrl2</a></code> = <code><a href="Vinyl-Effects-Interpreter-Simple.html#v:downcastInterpreter">downcastInterpreter</a></code> <code><a href="Vinyl-Effects-Example.html#v:interpretWorkflow1">interpretWorkflow1</a></code>
</pre><p>This casts <code>'[<code><a href="Vinyl-Effects-Example.html#t:ClipboardF">ClipboardF</a></code>,<code><a href="Vinyl-Effects-Example.html#t:OpenUrlF">OpenUrlF</a></code>]</code> down to <code>'[<code><a href="Vinyl-Effects-Example.html#t:OpenUrlF">OpenUrlF</a></code>]</code>.</p><p>(For example, some library exports only a single interpreter
that handles five effects.
We can reconstruct an interpreter that handles only three
of those effects with a one-liner).</p></div></div><h2 id="g:11">e.g. openFromClipboard</h2><div class="top"><p class="src"><a name="v:openFromClipboard" class="def">openFromClipboard</a> :: (<a href="../vinyl-0.5.2/Data-Vinyl-Lens.html#t:RElem">RElem</a> (* -&gt; *) <a href="Vinyl-Effects-Example.html#t:OpenUrlF">OpenUrlF</a> effects (<a href="../vinyl-0.5.2/Data-Vinyl-TypeLevel.html#t:RIndex">RIndex</a> (* -&gt; *) <a href="Vinyl-Effects-Example.html#t:OpenUrlF">OpenUrlF</a> effects), <a href="../vinyl-0.5.2/Data-Vinyl-Lens.html#t:RElem">RElem</a> (* -&gt; *) <a href="Vinyl-Effects-Example.html#t:ClipboardF">ClipboardF</a> effects (<a href="../vinyl-0.5.2/Data-Vinyl-TypeLevel.html#t:RIndex">RIndex</a> (* -&gt; *) <a href="Vinyl-Effects-Example.html#t:ClipboardF">ClipboardF</a> effects), <a href="Vinyl-Effects-Language.html#t:MonadLanguage">MonadLanguage</a> m effects) =&gt; m () <a href="src/Vinyl-Effects-Example.html#openFromClipboard" class="link">Source</a></p><div class="doc"><p>an effect to visit the url that's currently in the clipboard.</p><p>uses two distinct effects, i.e. it's a <code><a href="Vinyl-Effects-Example.html#t:Workflow">Workflow</a></code> action.</p><pre>openFromClipboard = do
  s &lt;- <code><a href="Vinyl-Effects-Example.html#v:getClipboard">getClipboard</a></code>
  <code><a href="Vinyl-Effects-Example.html#v:openUrl">openUrl</a></code> s
</pre><p>Inferred (with <code>NoMonomorphismRestriction</code>):</p><pre> :: ( <code><a href="Vinyl-Effects-Example.html#t:MonadClipboard">MonadClipboard</a></code> m effects
    , <code><a href="Vinyl-Effects-Example.html#t:MonadOpenUrl">MonadOpenUrl</a></code> m effects
    )
 =&gt; m ()
</pre><p>(the same, without aliases)</p><pre> :: ( <code><a href="Vinyl-Effects-Language.html#t:MonadLanguage">MonadLanguage</a></code> m effects
    , <code><a href="../vinyl-0.5.2/Data-Vinyl-Lens.html#t:RElem">RElem</a></code> ClipboardF effects (<code>RIndex</code> ClipboardF effects)
    , <code><a href="../vinyl-0.5.2/Data-Vinyl-Lens.html#t:RElem">RElem</a></code> OpenUrlF   effects (<code>RIndex</code> OpenUrlF   effects)
    )
 =&gt; m ()
</pre><p>(which is what haddock displays, unformatted).</p><p>i.e. &quot;any monad, that supports any set of effects that have at least <code><a href="Vinyl-Effects-Example.html#t:ClipboardF">ClipboardF</a></code> and <code><a href="Vinyl-Effects-Example.html#t:OpenUrlF">OpenUrlF</a></code>&quot;.</p><p>you can specialize the effects:</p><pre>openFromClipboard
 :: (<code><a href="Vinyl-Effects-Language.html#t:MonadLanguage">MonadLanguage</a></code> m [ClipboardF, OpenUrlF])
 =&gt; m ()
</pre><p>i.e. &quot;any monad, that supports exactly two effects, <code><a href="Vinyl-Effects-Example.html#t:ClipboardF">ClipboardF</a></code> and <code><a href="Vinyl-Effects-Example.html#t:OpenUrlF">OpenUrlF</a></code>&quot;.</p><p>or the monad:</p><pre>openFromClipboard
  :: (ClipboardF &#8712; effects, OpenUrlF &#8712; effects)
  =&gt; <code><a href="Vinyl-Effects-Language.html#t:Language">Language</a></code> effects ()
</pre><p>or both:</p><pre>openFromClipboard
 () =&gt;
 :: <code><a href="Vinyl-Effects-Language.html#t:Language">Language</a></code> [ClipboardF, OpenUrlF] ()
</pre></div></div><div class="top"><p class="src"><a name="v:openFromClipboard_nothingSpecialized" class="def">openFromClipboard_nothingSpecialized</a> :: <a href="Vinyl-Effects-Example.html#t:MonadWorkflow">MonadWorkflow</a> m effects =&gt; m () <a href="src/Vinyl-Effects-Example.html#openFromClipboard_nothingSpecialized" class="link">Source</a></p><div class="doc"><pre>= <code><a href="Vinyl-Effects-Example.html#v:openFromClipboard">openFromClipboard</a></code></pre></div></div><div class="top"><p class="src"><a name="v:openFromClipboard_monadSpecialized" class="def">openFromClipboard_monadSpecialized</a> :: (<a href="Vinyl-Effects-Example.html#t:ClipboardF">ClipboardF</a> <a href="../vinyl-0.5.2/Data-Vinyl-Lens.html#t:-8712-">&#8712;</a> effects, <a href="Vinyl-Effects-Example.html#t:OpenUrlF">OpenUrlF</a> <a href="../vinyl-0.5.2/Data-Vinyl-Lens.html#t:-8712-">&#8712;</a> effects) =&gt; <a href="Vinyl-Effects-Language.html#t:Language">Language</a> effects () <a href="src/Vinyl-Effects-Example.html#openFromClipboard_monadSpecialized" class="link">Source</a></p><div class="doc"><pre>= <code><a href="Vinyl-Effects-Example.html#v:openFromClipboard">openFromClipboard</a></code></pre></div></div><div class="top"><p class="src"><a name="v:openFromClipboard_effectsSpecialized" class="def">openFromClipboard_effectsSpecialized</a> :: <a href="Vinyl-Effects-Language.html#t:MonadLanguage">MonadLanguage</a> m `[<a href="Vinyl-Effects-Example.html#t:ClipboardF">ClipboardF</a>, <a href="Vinyl-Effects-Example.html#t:OpenUrlF">OpenUrlF</a>]` =&gt; m () <a href="src/Vinyl-Effects-Example.html#openFromClipboard_effectsSpecialized" class="link">Source</a></p><div class="doc"><pre>= <code><a href="Vinyl-Effects-Example.html#v:openFromClipboard">openFromClipboard</a></code></pre></div></div><div class="top"><p class="src"><a name="v:openFromClipboard_bothSpecialized" class="def">openFromClipboard_bothSpecialized</a> :: <a href="Vinyl-Effects-Language.html#t:Language">Language</a> `[<a href="Vinyl-Effects-Example.html#t:ClipboardF">ClipboardF</a>, <a href="Vinyl-Effects-Example.html#t:OpenUrlF">OpenUrlF</a>]` () <a href="src/Vinyl-Effects-Example.html#openFromClipboard_bothSpecialized" class="link">Source</a></p><div class="doc"><pre>= <code><a href="Vinyl-Effects-Example.html#v:openFromClipboard">openFromClipboard</a></code></pre></div></div><h1 id="g:12">Reader, as an effect</h1><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:MonadReader" class="def">MonadReader</a> r m effects = (<a href="Vinyl-Effects-Language.html#t:MonadLanguage">MonadLanguage</a> m effects, <a href="Vinyl-Effects-Example.html#t:ReaderF">ReaderF</a> r <a href="../vinyl-0.5.2/Data-Vinyl-Lens.html#t:-8712-">&#8712;</a> effects) <a href="src/Vinyl-Effects-Example.html#MonadReader" class="link">Source</a></p><div class="doc"><p>the constraint</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:Reader" class="def">Reader</a> r = `[<a href="Vinyl-Effects-Example.html#t:ReaderF">ReaderF</a> r]` <a href="src/Vinyl-Effects-Example.html#Reader" class="link">Source</a></p><div class="doc"><p>the set of effects (one)</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:ReaderF" class="def">ReaderF</a> r k <a href="src/Vinyl-Effects-Example.html#ReaderF" class="link">Source</a></p><div class="doc"><p>the functor</p></div><div class="subs instances"><p id="control.i:ReaderF" class="caption collapser" onclick="toggleSection('i:ReaderF')">Instances</p><div id="section.i:ReaderF" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Data-Functor.html#t:Functor">Functor</a> (<a href="Vinyl-Effects-Example.html#t:ReaderF">ReaderF</a> r)</span> <a href="src/Vinyl-Effects-Example.html#line-571" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Data-Monoid.html#t:Monoid">Monoid</a> w =&gt; <a href="Vinyl-Effects-Language.html#t:MonadLanguage">MonadLanguage</a> (<a href="Vinyl-Effects-Example.html#t:RWS">RWS</a> r w s) ((:) (* -&gt; *) (<a href="Vinyl-Effects-Example.html#t:ReaderF">ReaderF</a> r) ((:) (* -&gt; *) (<a href="Vinyl-Effects-Example.html#t:WriterF">WriterF</a> w) ((:) (* -&gt; *) (<a href="Vinyl-Effects-Example.html#t:StateF">StateF</a> s) ([] (* -&gt; *)))))</span> <a href="src/Vinyl-Effects-Example.html#line-717" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:ask" class="def">ask</a> :: <a href="Vinyl-Effects-Example.html#t:MonadReader">MonadReader</a> r m effects =&gt; m r <a href="src/Vinyl-Effects-Example.html#ask" class="link">Source</a></p><div class="doc"><pre>ask = <code><a href="Vinyl-Effects-Language.html#v:liftL">liftL</a></code> $ <code>Ask</code> id</pre></div></div><h1 id="g:13">Writer, as an effect</h1><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:MonadWriter" class="def">MonadWriter</a> w m effects = (<a href="Vinyl-Effects-Language.html#t:MonadLanguage">MonadLanguage</a> m effects, <a href="Vinyl-Effects-Example.html#t:WriterF">WriterF</a> w <a href="../vinyl-0.5.2/Data-Vinyl-Lens.html#t:-8712-">&#8712;</a> effects) <a href="src/Vinyl-Effects-Example.html#MonadWriter" class="link">Source</a></p><div class="doc"><p>the constraint</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:Writer" class="def">Writer</a> w = `[<a href="Vinyl-Effects-Example.html#t:WriterF">WriterF</a> w]` <a href="src/Vinyl-Effects-Example.html#Writer" class="link">Source</a></p><div class="doc"><p>the set of effects (one)</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:WriterF" class="def">WriterF</a> w k <a href="src/Vinyl-Effects-Example.html#WriterF" class="link">Source</a></p><div class="doc"><p>the functor</p></div><div class="subs instances"><p id="control.i:WriterF" class="caption collapser" onclick="toggleSection('i:WriterF')">Instances</p><div id="section.i:WriterF" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Data-Functor.html#t:Functor">Functor</a> (<a href="Vinyl-Effects-Example.html#t:WriterF">WriterF</a> w)</span> <a href="src/Vinyl-Effects-Example.html#line-591" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Data-Monoid.html#t:Monoid">Monoid</a> w =&gt; <a href="Vinyl-Effects-Language.html#t:MonadLanguage">MonadLanguage</a> (<a href="Vinyl-Effects-Example.html#t:RWS">RWS</a> r w s) ((:) (* -&gt; *) (<a href="Vinyl-Effects-Example.html#t:ReaderF">ReaderF</a> r) ((:) (* -&gt; *) (<a href="Vinyl-Effects-Example.html#t:WriterF">WriterF</a> w) ((:) (* -&gt; *) (<a href="Vinyl-Effects-Example.html#t:StateF">StateF</a> s) ([] (* -&gt; *)))))</span> <a href="src/Vinyl-Effects-Example.html#line-717" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:tell" class="def">tell</a> :: <a href="Vinyl-Effects-Example.html#t:MonadWriter">MonadWriter</a> w m effects =&gt; w -&gt; m () <a href="src/Vinyl-Effects-Example.html#tell" class="link">Source</a></p><div class="doc"><pre>tell w = <code><a href="Vinyl-Effects-Language.html#v:liftL">liftL</a></code> $ <code>Tell</code> w ()</pre></div></div><h1 id="g:14">State, as an effect</h1><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:MonadState" class="def">MonadState</a> s m effects = (<a href="Vinyl-Effects-Language.html#t:MonadLanguage">MonadLanguage</a> m effects, <a href="Vinyl-Effects-Example.html#t:StateF">StateF</a> s <a href="../vinyl-0.5.2/Data-Vinyl-Lens.html#t:-8712-">&#8712;</a> effects) <a href="src/Vinyl-Effects-Example.html#MonadState" class="link">Source</a></p><div class="doc"><p>the constraint</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:State" class="def">State</a> s = `[<a href="Vinyl-Effects-Example.html#t:StateF">StateF</a> s]` <a href="src/Vinyl-Effects-Example.html#State" class="link">Source</a></p><div class="doc"><p>the set of effects (one)</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:StateF" class="def">StateF</a> s k <a href="src/Vinyl-Effects-Example.html#StateF" class="link">Source</a></p><div class="doc"><p>the functor</p></div><div class="subs instances"><p id="control.i:StateF" class="caption collapser" onclick="toggleSection('i:StateF')">Instances</p><div id="section.i:StateF" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Data-Functor.html#t:Functor">Functor</a> (<a href="Vinyl-Effects-Example.html#t:StateF">StateF</a> s)</span> <a href="src/Vinyl-Effects-Example.html#line-612" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Data-Monoid.html#t:Monoid">Monoid</a> w =&gt; <a href="Vinyl-Effects-Language.html#t:MonadLanguage">MonadLanguage</a> (<a href="Vinyl-Effects-Example.html#t:RWS">RWS</a> r w s) ((:) (* -&gt; *) (<a href="Vinyl-Effects-Example.html#t:ReaderF">ReaderF</a> r) ((:) (* -&gt; *) (<a href="Vinyl-Effects-Example.html#t:WriterF">WriterF</a> w) ((:) (* -&gt; *) (<a href="Vinyl-Effects-Example.html#t:StateF">StateF</a> s) ([] (* -&gt; *)))))</span> <a href="src/Vinyl-Effects-Example.html#line-717" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:get" class="def">get</a> :: <a href="Vinyl-Effects-Example.html#t:MonadState">MonadState</a> s m effects =&gt; m s <a href="src/Vinyl-Effects-Example.html#get" class="link">Source</a></p><div class="doc"><pre>get = <code><a href="Vinyl-Effects-Language.html#v:liftL">liftL</a></code> $ <code>Get</code> id</pre></div></div><div class="top"><p class="src"><a name="v:put" class="def">put</a> :: <a href="Vinyl-Effects-Example.html#t:MonadState">MonadState</a> s m effects =&gt; s -&gt; m () <a href="src/Vinyl-Effects-Example.html#put" class="link">Source</a></p><div class="doc"><pre>put s = <code><a href="Vinyl-Effects-Language.html#v:liftL">liftL</a></code> $ <code>Put</code> s ()</pre></div></div><h2 id="g:15">instance MonadLanguge RWS</h2><div class="top"><p class="src"><span class="keyword">newtype</span> <a name="t:RWS" class="def">RWS</a> r w s a <a href="src/Vinyl-Effects-Example.html#RWS" class="link">Source</a></p><div class="doc"><p>since 'MonadLanguage is a class,
even though <code><a href="Vinyl-Effects-Example.html#t:RWS">RWS</a></code> is a custom monad (not a <code><a href="Vinyl-Effects-Language.html#t:Language">Language</a></code>),
you can still provide an instance.</p><p>The instance declares that <code>RWS</code> has three effects:
reading an environment, logging, and state access.
Which means that the functors (<code><a href="Vinyl-Effects-Example.html#t:ReaderF">ReaderF</a></code>, <code><a href="Vinyl-Effects-Example.html#t:WriterF">WriterF</a></code>, <code><a href="Vinyl-Effects-Example.html#t:StateF">StateF</a></code>)
can be injected into our concrete/custom monad stack.</p><p>Thus <code><a href="Vinyl-Effects-Example.html#v:exampleRWS">exampleRWS</a></code>,
which is built with overloaded procedures
(<code><a href="Vinyl-Effects-Example.html#v:ask">ask</a></code>,<code><a href="Vinyl-Effects-Example.html#v:tell">tell</a></code>,<code><a href="Vinyl-Effects-Example.html#v:get">get</a></code>,<code><a href="Vinyl-Effects-Example.html#v:put">put</a></code> are from this module, not the <code>mtl</code> package),
can be specialized to both a <code><a href="Vinyl-Effects-Language.html#t:Language">Language</a></code>:</p><pre>-- <code><a href="Vinyl-Effects-Example.html#v:exampleRWS_specializedLanguage">exampleRWS_specializedLanguage</a></code>
exampleRWS
 :: (Num i, Show i)
 =&gt; Language [ReaderF Bool, WriterF [String], StateF i] i
</pre><p>and the more familiar <code><a href="Vinyl-Effects-Example.html#t:RWS">RWS</a></code>:</p><pre>-- <code><a href="Vinyl-Effects-Example.html#v:exampleRWS_specializedRWS">exampleRWS_specializedRWS</a></code>
exampleRWS
 :: (Num i, Show i)
 =&gt; RWS Bool [String] i i
</pre><p>To &quot;lift the effect&quot;, we define a record of liftings
for **each** possible effect:</p><pre><code><a href="Vinyl-Effects-Example.html#v:liftRWS">liftRWS</a></code>
   = OpNaturalTransformation <code><a href="Vinyl-Effects-Example.html#v:liftReaderF">liftReaderF</a></code>
  :&amp; OpNaturalTransformation <code><a href="Vinyl-Effects-Example.html#v:liftWriterF">liftWriterF</a></code>
  :&amp; OpNaturalTransformation <code><a href="Vinyl-Effects-Example.html#v:liftStateF">liftStateF</a></code>
  :&amp; RNil

  -- (the <code><a href="Vinyl-Effects-Types.html#t:OpNaturalTransformation">OpNaturalTransformation</a></code> is boilerplate)
</pre><p>and then perform a record lookup for **the** particular effect
given at runtime:</p><pre>instance (<code><a href="../base-4.8.2.0/Data-Monoid.html#t:Monoid">Monoid</a></code> w) =&gt; <code><a href="Vinyl-Effects-Language.html#t:MonadLanguage">MonadLanguage</a></code> (RWS r w s) [<code><a href="Vinyl-Effects-Example.html#t:ReaderF">ReaderF</a></code> r, <code><a href="Vinyl-Effects-Example.html#t:WriterF">WriterF</a></code> w, <code><a href="Vinyl-Effects-Example.html#t:StateF">StateF</a></code> s] where
  <code><a href="Vinyl-Effects-Language.html#v:liftL">liftL</a></code> effect = <code><a href="Vinyl-Effects-Types.html#v:getOpNaturalTransformation">getOpNaturalTransformation</a></code> (<code><a href="../vinyl-0.5.2/Data-Vinyl-Lens.html#v:rget">rget</a></code> <code><a href="../base-4.8.2.0/Data-Proxy.html#t:Proxy">Proxy</a></code> <code><a href="Vinyl-Effects-Example.html#v:liftRWS">liftRWS</a></code>) effect
</pre><p>For example, when the <code>effect</code> is <code><code><a href="Vinyl-Effects-Example.html#v:ask">ask</a></code></code>:</p><pre>liftL ask
=
liftL ask
=
getOpNaturalTransformation (rget Proxy liftRWS) ask
=
getOpNaturalTransformation (OpNaturalTransformation liftReaderF) ask
=
liftReaderF ask
=
liftReaderF (Ask id)
=
RWS $ ReaderT $ r -&gt; do
  return (id r)
=
RWS $ ReaderT $ r -&gt; do
  return r
=
RWS $ ReaderT return
</pre></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:RWS" class="def">RWS</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><dl><dt class="src"><a name="v:getRWS" class="def">getRWS</a> :: <a href="../mtl-2.2.1/Control-Monad-Reader.html#t:ReaderT">ReaderT</a> r (<a href="../mtl-2.2.1/Control-Monad-Writer-Lazy.html#t:WriterT">WriterT</a> w (<a href="../mtl-2.2.1/Control-Monad-State-Lazy.html#t:StateT">StateT</a> s <a href="../base-4.8.2.0/Data-Functor-Identity.html#t:Identity">Identity</a>)) a</dt><dd class="doc empty">&nbsp;</dd></dl><div class="clear"></div></div></td></tr></table></div><div class="subs instances"><p id="control.i:RWS" class="caption collapser" onclick="toggleSection('i:RWS')">Instances</p><div id="section.i:RWS" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Data-Monoid.html#t:Monoid">Monoid</a> w =&gt; <a href="../base-4.8.2.0/Control-Monad.html#t:Monad">Monad</a> (<a href="Vinyl-Effects-Example.html#t:RWS">RWS</a> r w s)</span> <a href="src/Vinyl-Effects-Example.html#line-703" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Data-Functor.html#t:Functor">Functor</a> (<a href="Vinyl-Effects-Example.html#t:RWS">RWS</a> r w s)</span> <a href="src/Vinyl-Effects-Example.html#line-703" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Data-Monoid.html#t:Monoid">Monoid</a> w =&gt; <a href="../base-4.8.2.0/Control-Applicative.html#t:Applicative">Applicative</a> (<a href="Vinyl-Effects-Example.html#t:RWS">RWS</a> r w s)</span> <a href="src/Vinyl-Effects-Example.html#line-703" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Data-Monoid.html#t:Monoid">Monoid</a> w =&gt; <a href="Vinyl-Effects-Language.html#t:MonadLanguage">MonadLanguage</a> (<a href="Vinyl-Effects-Example.html#t:RWS">RWS</a> r w s) ((:) (* -&gt; *) (<a href="Vinyl-Effects-Example.html#t:ReaderF">ReaderF</a> r) ((:) (* -&gt; *) (<a href="Vinyl-Effects-Example.html#t:WriterF">WriterF</a> w) ((:) (* -&gt; *) (<a href="Vinyl-Effects-Example.html#t:StateF">StateF</a> s) ([] (* -&gt; *)))))</span> <a href="src/Vinyl-Effects-Example.html#line-717" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:runRWS" class="def">runRWS</a> :: <a href="../base-4.8.2.0/Data-Monoid.html#t:Monoid">Monoid</a> w =&gt; r -&gt; s -&gt; <a href="Vinyl-Effects-Example.html#t:RWS">RWS</a> r w s a -&gt; (a, w, s) <a href="src/Vinyl-Effects-Example.html#runRWS" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:liftRWS" class="def">liftRWS</a> :: <a href="../base-4.8.2.0/Data-Monoid.html#t:Monoid">Monoid</a> w =&gt; <a href="../vinyl-0.5.2/Data-Vinyl-Core.html#t:Rec">Rec</a> (<a href="Vinyl-Effects-Types.html#t:OpNaturalTransformation">OpNaturalTransformation</a> (<a href="Vinyl-Effects-Example.html#t:RWS">RWS</a> r w s)) `[<a href="Vinyl-Effects-Example.html#t:ReaderF">ReaderF</a> r, <a href="Vinyl-Effects-Example.html#t:WriterF">WriterF</a> w, <a href="Vinyl-Effects-Example.html#t:StateF">StateF</a> s]` <a href="src/Vinyl-Effects-Example.html#liftRWS" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:liftReaderF" class="def">liftReaderF</a> :: <a href="../base-4.8.2.0/Data-Monoid.html#t:Monoid">Monoid</a> w =&gt; <a href="Vinyl-Effects-Example.html#t:ReaderF">ReaderF</a> r a -&gt; <a href="Vinyl-Effects-Example.html#t:RWS">RWS</a> r w s a <a href="src/Vinyl-Effects-Example.html#liftReaderF" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:liftWriterF" class="def">liftWriterF</a> :: <a href="../base-4.8.2.0/Data-Monoid.html#t:Monoid">Monoid</a> w =&gt; <a href="Vinyl-Effects-Example.html#t:WriterF">WriterF</a> w a -&gt; <a href="Vinyl-Effects-Example.html#t:RWS">RWS</a> r w s a <a href="src/Vinyl-Effects-Example.html#liftWriterF" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:liftStateF" class="def">liftStateF</a> :: <a href="../base-4.8.2.0/Data-Monoid.html#t:Monoid">Monoid</a> w =&gt; <a href="Vinyl-Effects-Example.html#t:StateF">StateF</a> s a -&gt; <a href="Vinyl-Effects-Example.html#t:RWS">RWS</a> r w s a <a href="src/Vinyl-Effects-Example.html#liftStateF" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:exampleRWS" class="def">exampleRWS</a> :: (<a href="Vinyl-Effects-Example.html#t:MonadReader">MonadReader</a> <a href="../base-4.8.2.0/Data-Bool.html#t:Bool">Bool</a> m effects, <a href="Vinyl-Effects-Example.html#t:MonadWriter">MonadWriter</a> [<a href="../base-4.8.2.0/Data-String.html#t:String">String</a>] m effects, <a href="Vinyl-Effects-Example.html#t:MonadState">MonadState</a> i m effects, <a href="../base-4.8.2.0/Prelude.html#t:Num">Num</a> i, <a href="../base-4.8.2.0/Text-Show.html#t:Show">Show</a> i) =&gt; m i <a href="src/Vinyl-Effects-Example.html#exampleRWS" class="link">Source</a></p><div class="doc"><p>uses all four effectful operations (<code><a href="Vinyl-Effects-Example.html#v:ask">ask</a></code>,<code><a href="Vinyl-Effects-Example.html#v:tell">tell</a></code>,<code><a href="Vinyl-Effects-Example.html#v:get">get</a></code>,<code><a href="Vinyl-Effects-Example.html#v:put">put</a></code>).</p></div></div><div class="top"><p class="src"><a name="v:exampleRWS_specializedLanguage" class="def">exampleRWS_specializedLanguage</a> :: (<a href="../base-4.8.2.0/Prelude.html#t:Num">Num</a> i, <a href="../base-4.8.2.0/Text-Show.html#t:Show">Show</a> i) =&gt; <a href="Vinyl-Effects-Language.html#t:Language">Language</a> `[<a href="Vinyl-Effects-Example.html#t:ReaderF">ReaderF</a> <a href="../base-4.8.2.0/Data-Bool.html#t:Bool">Bool</a>, <a href="Vinyl-Effects-Example.html#t:WriterF">WriterF</a> [<a href="../base-4.8.2.0/Data-String.html#t:String">String</a>], <a href="Vinyl-Effects-Example.html#t:StateF">StateF</a> i]` i <a href="src/Vinyl-Effects-Example.html#exampleRWS_specializedLanguage" class="link">Source</a></p><div class="doc"><pre>= <code><a href="Vinyl-Effects-Example.html#v:exampleRWS">exampleRWS</a></code></pre></div></div><div class="top"><p class="src"><a name="v:exampleRWS_specializedRWS" class="def">exampleRWS_specializedRWS</a> :: (<a href="../base-4.8.2.0/Prelude.html#t:Num">Num</a> i, <a href="../base-4.8.2.0/Text-Show.html#t:Show">Show</a> i) =&gt; <a href="Vinyl-Effects-Example.html#t:RWS">RWS</a> <a href="../base-4.8.2.0/Data-Bool.html#t:Bool">Bool</a> [<a href="../base-4.8.2.0/Data-String.html#t:String">String</a>] i i <a href="src/Vinyl-Effects-Example.html#exampleRWS_specializedRWS" class="link">Source</a></p><div class="doc"><pre>= <code><a href="Vinyl-Effects-Example.html#v:exampleRWS">exampleRWS</a></code></pre></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.16.1</p></div></body></html>