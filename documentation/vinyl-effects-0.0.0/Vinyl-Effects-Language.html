<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Vinyl.Effects.Language</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Vinyl-Effects-Language.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/Vinyl-Effects-Language.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">vinyl-effects-0.0.0: TODO</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Vinyl.Effects.Language</p></div><div id="description"><p class="caption">Description</p><div class="doc empty">&nbsp;</div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">newtype</span> <a href="#t:Language">Language</a> effects a = <a href="#v:Language">Language</a> {<ul class="subs"><li><a href="#v:getLanguage">getLanguage</a> :: <a href="../free-4.12.4/Control-Monad-Trans-Free.html#t:FreeF">FreeF</a> (<a href="Vinyl-Effects-Language.html#t:LanguageF">LanguageF</a> effects) a (<a href="Vinyl-Effects-Language.html#t:Language">Language</a> effects a)</li></ul>}</li><li class="src short"><span class="keyword">newtype</span> <a href="#t:LanguageF">LanguageF</a> effects a = <a href="#v:LanguageF">LanguageF</a> {<ul class="subs"><li><a href="#v:getLanguageF">getLanguageF</a> :: <a href="../vinyl-sum-0.0.0/Vinyl-CoRec.html#t:CoRec">CoRec</a> (<a href="Vinyl-Effects-Types.html#t:Apply">Apply</a> a) effects</li></ul>}</li><li class="src short"><a href="#v:liftE">liftE</a> :: (effect <a href="../vinyl-0.5.2/Data-Vinyl-Lens.html#t:-8712-">&#8712;</a> effects, <a href="../base-4.8.2.0/Data-Functor.html#t:Functor">Functor</a> effect) =&gt; effect a -&gt; <a href="Vinyl-Effects-Language.html#t:LanguageF">LanguageF</a> effects a</li><li class="src short"><span class="keyword">class</span> <a href="../base-4.8.2.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="#t:MonadLanguage">MonadLanguage</a> m effects | m -&gt; effects <span class="keyword">where</span><ul class="subs"><li><a href="#v:liftL">liftL</a> :: (f <a href="../vinyl-0.5.2/Data-Vinyl-Lens.html#t:-8712-">&#8712;</a> effects, <a href="../base-4.8.2.0/Data-Functor.html#t:Functor">Functor</a> f) =&gt; f a -&gt; m a</li></ul></li><li class="src short"><a href="#v:fromUnitLanguageF">fromUnitLanguageF</a> :: <span class="keyword">forall</span> f a. <a href="Vinyl-Effects-Language.html#t:LanguageF">LanguageF</a> `[f]` a -&gt; f a</li><li class="src short"><a href="#v:fromLanguage">fromLanguage</a> :: <a href="Vinyl-Effects-Language.html#t:Language">Language</a> effects a -&gt; <a href="../free-4.12.4/Control-Monad-Trans-Free.html#t:Free">Free</a> (<a href="Vinyl-Effects-Language.html#t:LanguageF">LanguageF</a> effects) a</li><li class="src short"><a href="#v:iterL">iterL</a> :: (<a href="Vinyl-Effects-Language.html#t:LanguageF">LanguageF</a> effects a -&gt; a) -&gt; <a href="Vinyl-Effects-Language.html#t:Language">Language</a> effects a -&gt; a</li><li class="src short"><a href="#v:iterLM">iterLM</a> :: <a href="../base-4.8.2.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; (<a href="Vinyl-Effects-Language.html#t:LanguageF">LanguageF</a> effects (m a) -&gt; m a) -&gt; <a href="Vinyl-Effects-Language.html#t:Language">Language</a> effects a -&gt; m a</li></ul></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">newtype</span> <a name="t:Language" class="def">Language</a> effects a <a href="src/Vinyl-Effects-Language.html#Language" class="link">Source</a></p><div class="doc"><p>a domain-specific <code>language</code> that supports the <code>effects</code>.</p><p>e.g.</p><pre>Language [f,g] a
</pre></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:Language" class="def">Language</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><dl><dt class="src"><a name="v:getLanguage" class="def">getLanguage</a> :: <a href="../free-4.12.4/Control-Monad-Trans-Free.html#t:FreeF">FreeF</a> (<a href="Vinyl-Effects-Language.html#t:LanguageF">LanguageF</a> effects) a (<a href="Vinyl-Effects-Language.html#t:Language">Language</a> effects a)</dt><dd class="doc empty">&nbsp;</dd></dl><div class="clear"></div></div></td></tr></table></div><div class="subs instances"><p id="control.i:Language" class="caption collapser" onclick="toggleSection('i:Language')">Instances</p><div id="section.i:Language" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Control-Monad.html#t:Monad">Monad</a> (<a href="Vinyl-Effects-Language.html#t:Language">Language</a> effects)</span> <a href="src/Vinyl-Effects-Language.html#line-51" class="link">Source</a></td><td class="doc"><p><code><a href="../base-4.8.2.0/Control-Monad.html#v:-62--62--61-">&gt;&gt;=</a></code> may call <code><a href="../free-4.12.4/Control-Monad-Trans-Free.html#t:Free">Free</a></code></p></td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Data-Functor.html#t:Functor">Functor</a> (<a href="Vinyl-Effects-Language.html#t:Language">Language</a> effects)</span> <a href="src/Vinyl-Effects-Language.html#line-40" class="link">Source</a></td><td class="doc"><p><code><a href="../base-4.8.2.0/Data-Functor.html#v:fmap">fmap</a></code></p></td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Control-Applicative.html#t:Applicative">Applicative</a> (<a href="Vinyl-Effects-Language.html#t:Language">Language</a> effects)</span> <a href="src/Vinyl-Effects-Language.html#line-46" class="link">Source</a></td><td class="doc"><p><code><a href="../base-4.8.2.0/Control-Applicative.html#v:pure">pure</a></code> calls <code><a href="../free-4.12.4/Control-Monad-Trans-Free.html#v:Pure">Pure</a></code></p></td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Vinyl-Effects-Language.html#t:MonadLanguage">MonadLanguage</a> (<a href="Vinyl-Effects-Language.html#t:Language">Language</a> effects) effects</span> <a href="src/Vinyl-Effects-Language.html#line-153" class="link">Source</a></td><td class="doc"><p>The simplest concrete implementation for the interface.</p><p>Analogous to <code>(m ~ State s)</code> for <code>(MonadState m s)</code>.</p><pre>liftL = <code><a href="Vinyl-Effects-Language.html#v:liftE">liftE</a></code> &gt;&gt;&gt; <code><a href="../free-4.12.4/Control-Monad-Free-Class.html#v:liftF">liftF</a></code></pre></td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../free-4.12.4/Control-Monad-Free-Class.html#t:MonadFree">MonadFree</a> (<a href="Vinyl-Effects-Language.html#t:LanguageF">LanguageF</a> effects) (<a href="Vinyl-Effects-Language.html#t:Language">Language</a> effects)</span> <a href="src/Vinyl-Effects-Language.html#line-177" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">newtype</span> <a name="t:LanguageF" class="def">LanguageF</a> effects a <a href="src/Vinyl-Effects-Language.html#LanguageF" class="link">Source</a></p><div class="doc"><p>a (type-level) <code>sum</code> of &quot;language features&quot;.
Generally, a (1) lifted, (2) n-ary, (3) associative sum.</p><p>the <code>expression</code> may use any effect in <code>effects</code>:</p><pre>expression :: LanguageF effects
</pre><p>generalizes <code><a href="../base-4.8.2.0/Data-Either.html#t:Either">Either</a></code>:</p><pre>LanguageF '[f,g] a
~
Either (f a) (g a)
</pre></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:LanguageF" class="def">LanguageF</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><dl><dt class="src"><a name="v:getLanguageF" class="def">getLanguageF</a> :: <a href="../vinyl-sum-0.0.0/Vinyl-CoRec.html#t:CoRec">CoRec</a> (<a href="Vinyl-Effects-Types.html#t:Apply">Apply</a> a) effects</dt><dd class="doc empty">&nbsp;</dd></dl><div class="clear"></div></div></td></tr></table></div><div class="subs instances"><p id="control.i:LanguageF" class="caption collapser" onclick="toggleSection('i:LanguageF')">Instances</p><div id="section.i:LanguageF" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Data-Functor.html#t:Functor">Functor</a> (<a href="Vinyl-Effects-Language.html#t:LanguageF">LanguageF</a> effects)</span> <a href="src/Vinyl-Effects-Language.html#line-83" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../free-4.12.4/Control-Monad-Free-Class.html#t:MonadFree">MonadFree</a> (<a href="Vinyl-Effects-Language.html#t:LanguageF">LanguageF</a> effects) (<a href="Vinyl-Effects-Language.html#t:Language">Language</a> effects)</span> <a href="src/Vinyl-Effects-Language.html#line-177" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:liftE" class="def">liftE</a> :: (effect <a href="../vinyl-0.5.2/Data-Vinyl-Lens.html#t:-8712-">&#8712;</a> effects, <a href="../base-4.8.2.0/Data-Functor.html#t:Functor">Functor</a> effect) =&gt; effect a -&gt; <a href="Vinyl-Effects-Language.html#t:LanguageF">LanguageF</a> effects a <a href="src/Vinyl-Effects-Language.html#liftE" class="link">Source</a></p><div class="doc"><p>&quot;inject&quot; an <code>effect</code> into a set of <code>effects</code>.</p><p>generalizes <code><a href="../base-4.8.2.0/Data-Either.html#v:Left">Left</a></code> and <code><a href="../base-4.8.2.0/Data-Either.html#v:Right">Right</a></code>:</p><ul><li><pre>Left  ~ (liftE :: f a -&gt; LanguageF '[f,g] a)</pre></li><li><pre>Right ~ (liftE :: g a -&gt; LanguageF '[f,g] a)</pre></li></ul></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a href="../base-4.8.2.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a name="t:MonadLanguage" class="def">MonadLanguage</a> m effects | m -&gt; effects <span class="keyword">where</span> <a href="src/Vinyl-Effects-Language.html#MonadLanguage" class="link">Source</a></p><div class="doc"><p>the <code>m</code>onad supports each <code>effect</code></p><p>a &quot;final encoding&quot; (TODO, is it?) for injecting functors into a sum.</p><p>Analogous to <code><a href="../free-4.12.4/Control-Monad-Free-Class.html#v:liftF">liftF</a></code>.</p><p>e.g.</p><pre>data ClipboardF k = GetClipboard (String -&gt; k) | SetClipboard String k

getClipboard :: (MonadClipboard m effects) =&gt; m String
getClipboard = liftL $ GetClipboard id
   -- GetClipboard id :: ClipboardF String

setClipboard :: (MonadClipboard m effects) =&gt; String -&gt; m ())
setClipboard s = liftL $ SetClipboard s ()
  -- SetClipboard s () :: ClipboardF ()

type MonadClipboard m effects = (MonadLanguage m effects, ClipboardF &#8712; effects)
</pre><p>the <code>FunctionalDependency</code> (i.e. <code>m -&gt; effects</code>) says:
&quot;a language-monad supports one set of effects&quot;.</p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a name="v:liftL" class="def">liftL</a> :: (f <a href="../vinyl-0.5.2/Data-Vinyl-Lens.html#t:-8712-">&#8712;</a> effects, <a href="../base-4.8.2.0/Data-Functor.html#t:Functor">Functor</a> f) =&gt; f a -&gt; m a <a href="src/Vinyl-Effects-Language.html#liftL" class="link">Source</a></p></div><div class="subs instances"><p id="control.i:MonadLanguage" class="caption collapser" onclick="toggleSection('i:MonadLanguage')">Instances</p><div id="section.i:MonadLanguage" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><a href="Vinyl-Effects-Language.html#t:MonadLanguage">MonadLanguage</a> (<a href="Vinyl-Effects-Language.html#t:Language">Language</a> effects) effects</span> <a href="src/Vinyl-Effects-Language.html#line-153" class="link">Source</a></td><td class="doc"><p>The simplest concrete implementation for the interface.</p><p>Analogous to <code>(m ~ State s)</code> for <code>(MonadState m s)</code>.</p><pre>liftL = <code><a href="Vinyl-Effects-Language.html#v:liftE">liftE</a></code> &gt;&gt;&gt; <code><a href="../free-4.12.4/Control-Monad-Free-Class.html#v:liftF">liftF</a></code></pre></td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Data-Monoid.html#t:Monoid">Monoid</a> w =&gt; <a href="Vinyl-Effects-Language.html#t:MonadLanguage">MonadLanguage</a> (<a href="Vinyl-Effects-Example.html#t:RWS">RWS</a> r w s) ((:) (* -&gt; *) (<a href="Vinyl-Effects-Example.html#t:ReaderF">ReaderF</a> r) ((:) (* -&gt; *) (<a href="Vinyl-Effects-Example.html#t:WriterF">WriterF</a> w) ((:) (* -&gt; *) (<a href="Vinyl-Effects-Example.html#t:StateF">StateF</a> s) ([] (* -&gt; *)))))</span> <a href="src/Vinyl-Effects-Language.html#line-717" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:fromUnitLanguageF" class="def">fromUnitLanguageF</a> :: <span class="keyword">forall</span> f a. <a href="Vinyl-Effects-Language.html#t:LanguageF">LanguageF</a> `[f]` a -&gt; f a <a href="src/Vinyl-Effects-Language.html#fromUnitLanguageF" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:fromLanguage" class="def">fromLanguage</a> :: <a href="Vinyl-Effects-Language.html#t:Language">Language</a> effects a -&gt; <a href="../free-4.12.4/Control-Monad-Trans-Free.html#t:Free">Free</a> (<a href="Vinyl-Effects-Language.html#t:LanguageF">LanguageF</a> effects) a <a href="src/Vinyl-Effects-Language.html#fromLanguage" class="link">Source</a></p><div class="doc"><p>cast a (<code>newtype</code>'d) <code>Language</code> to <code>Free</code>. TODO is cheap (can use <code>coerce</code>)?</p></div></div><div class="top"><p class="src"><a name="v:iterL" class="def">iterL</a> :: (<a href="Vinyl-Effects-Language.html#t:LanguageF">LanguageF</a> effects a -&gt; a) -&gt; <a href="Vinyl-Effects-Language.html#t:Language">Language</a> effects a -&gt; a <a href="src/Vinyl-Effects-Language.html#iterL" class="link">Source</a></p><div class="doc"><p>wraps <code><a href="../free-4.12.4/Control-Monad-Trans-Free.html#v:iter">iter</a></code>.</p></div></div><div class="top"><p class="src"><a name="v:iterLM" class="def">iterLM</a> :: <a href="../base-4.8.2.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; (<a href="Vinyl-Effects-Language.html#t:LanguageF">LanguageF</a> effects (m a) -&gt; m a) -&gt; <a href="Vinyl-Effects-Language.html#t:Language">Language</a> effects a -&gt; m a <a href="src/Vinyl-Effects-Language.html#iterLM" class="link">Source</a></p><div class="doc"><p>wraps <code><a href="../free-4.12.4/Control-Monad-Trans-Free.html#v:iterM">iterM</a></code>.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.16.1</p></div></body></html>