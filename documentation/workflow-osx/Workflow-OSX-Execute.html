<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Workflow.OSX.Execute</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Workflow-OSX-Execute.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">workflow-osx-0.0.0: a &quot;Desktop Workflow&quot; monad with Objective-C bindings</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>Safe</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Workflow.OSX.Execute</p></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><a href="#v:runWorkflow">runWorkflow</a> :: <a href="Workflow-OSX-Types.html#t:Workflow">Workflow</a> a -&gt; <a href="${pkgroot}/../../share/doc/ghc/html/libraries/base-4.8.0.0/System-IO.html#t:IO">IO</a> a</li><li class="src short"><a href="#v:sendTextAsKeypresses">sendTextAsKeypresses</a> :: <a href="${pkgroot}/../../share/doc/ghc/html/libraries/base-4.8.0.0/Data-String.html#t:String">String</a> -&gt; <a href="Workflow-OSX-Types.html#t:Workflow">Workflow</a> ()</li><li class="src short"><a href="#v:runWorkflowWithDelay">runWorkflowWithDelay</a> :: <a href="${pkgroot}/../../share/doc/ghc/html/libraries/base-4.8.0.0/Data-Int.html#t:Int">Int</a> -&gt; <a href="Workflow-OSX-Types.html#t:Workflow">Workflow</a> a -&gt; <a href="${pkgroot}/../../share/doc/ghc/html/libraries/base-4.8.0.0/System-IO.html#t:IO">IO</a> a</li><li class="src short"><a href="#v:sendTextAsKeypressesWithDelay">sendTextAsKeypressesWithDelay</a> :: <a href="${pkgroot}/../../share/doc/ghc/html/libraries/base-4.8.0.0/Data-Int.html#t:Int">Int</a> -&gt; <a href="${pkgroot}/../../share/doc/ghc/html/libraries/base-4.8.0.0/Data-String.html#t:String">String</a> -&gt; <a href="Workflow-OSX-Types.html#t:Workflow">Workflow</a> ()</li><li class="src short"><a href="#v:showWorkflow">showWorkflow</a> :: <a href="${pkgroot}/../../share/doc/ghc/html/libraries/base-4.8.0.0/Text-Show.html#t:Show">Show</a> x =&gt; <a href="Workflow-OSX-Types.html#t:Workflow">Workflow</a> x -&gt; <a href="${pkgroot}/../../share/doc/ghc/html/libraries/base-4.8.0.0/Data-String.html#t:String">String</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:Gensym">Gensym</a> = <a href="${pkgroot}/../../share/doc/ghc/html/libraries/base-4.8.0.0/Data-Int.html#t:Int">Int</a></li><li class="src short"><a href="#v:gensym">gensym</a> :: <a href="${pkgroot}/../../share/doc/ghc/html/libraries/transformers-0.4.2.0/Control-Monad-Trans-State-Lazy.html#t:State">State</a> <a href="Workflow-OSX-Execute.html#t:Gensym">Gensym</a> <a href="${pkgroot}/../../share/doc/ghc/html/libraries/base-4.8.0.0/Data-String.html#t:String">String</a></li></ul></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><a name="v:runWorkflow" class="def">runWorkflow</a> :: <a href="Workflow-OSX-Types.html#t:Workflow">Workflow</a> a -&gt; <a href="${pkgroot}/../../share/doc/ghc/html/libraries/base-4.8.0.0/System-IO.html#t:IO">IO</a> a</p></div><div class="top"><p class="src"><a name="v:sendTextAsKeypresses" class="def">sendTextAsKeypresses</a> :: <a href="${pkgroot}/../../share/doc/ghc/html/libraries/base-4.8.0.0/Data-String.html#t:String">String</a> -&gt; <a href="Workflow-OSX-Types.html#t:Workflow">Workflow</a> ()</p><div class="doc"><p>returns a sequence of <code><a href="Workflow-OSX-Types.html#v:SendKeyChord">SendKeyChord</a></code>es.</p></div></div><div class="top"><p class="src"><a name="v:runWorkflowWithDelay" class="def">runWorkflowWithDelay</a> :: <a href="${pkgroot}/../../share/doc/ghc/html/libraries/base-4.8.0.0/Data-Int.html#t:Int">Int</a> -&gt; <a href="Workflow-OSX-Types.html#t:Workflow">Workflow</a> a -&gt; <a href="${pkgroot}/../../share/doc/ghc/html/libraries/base-4.8.0.0/System-IO.html#t:IO">IO</a> a</p></div><div class="top"><p class="src"><a name="v:sendTextAsKeypressesWithDelay" class="def">sendTextAsKeypressesWithDelay</a> :: <a href="${pkgroot}/../../share/doc/ghc/html/libraries/base-4.8.0.0/Data-Int.html#t:Int">Int</a> -&gt; <a href="${pkgroot}/../../share/doc/ghc/html/libraries/base-4.8.0.0/Data-String.html#t:String">String</a> -&gt; <a href="Workflow-OSX-Types.html#t:Workflow">Workflow</a> ()</p><div class="doc"><p>returns a sequence of <code><a href="Workflow-OSX-Types.html#v:SendKeyChord">SendKeyChord</a></code>es.</p></div></div><div class="top"><p class="src"><a name="v:showWorkflow" class="def">showWorkflow</a> :: <a href="${pkgroot}/../../share/doc/ghc/html/libraries/base-4.8.0.0/Text-Show.html#t:Show">Show</a> x =&gt; <a href="Workflow-OSX-Types.html#t:Workflow">Workflow</a> x -&gt; <a href="${pkgroot}/../../share/doc/ghc/html/libraries/base-4.8.0.0/Data-String.html#t:String">String</a></p><div class="doc"><p>shows the &quot;static&quot; data flow of some <code><a href="Workflow-OSX-Types.html#t:Workflow">Workflow</a></code>, by showing its primitive operations, in <code>do-notation</code>.</p><p>e.g.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>:{
</code></strong>putStrLn . showWorkflow $ do
 sendKeyChord [Command, Shift] BKey
 delay 1000
 sendKeyChord [Command] DownArrowKey
 x1 &lt;- currentApplication
 x2 &lt;- getClipboard
 openURL $ &quot;https://www.google.com/search?q=&quot; &lt;&gt; x2
 setClipboard x1
 getClipboard
:}
do
 sendKeyChord ([Command,Shift]) (BKey)
 delay (1000)
 sendKeyChord ([Command]) (DownArrowKey)
 x1 &lt;- currentApplication
 x2 &lt;- getClipboard
 openURL (&quot;https://www.google.com/search?q={x2}&quot;)
 setClipboard (&quot;{x1}&quot;)
 x3 &lt;- getClipboard
 return &quot;{x3}&quot;
</pre><p>(note: doesn't print variables as raw strings (cf. <code><a href="${pkgroot}/../../share/doc/ghc/html/libraries/base-4.8.0.0/System-IO.html#v:print">print</a></code> versus <code><a href="${pkgroot}/../../share/doc/ghc/html/libraries/base-4.8.0.0/System-IO.html#v:putStrLn">putStrLn</a></code>), as it doesn't &quot;crystallize&quot; all operations into &quot;symbols&quot;, but gives you an idea of the data flow. however, it does correctly track the control flow, even when the variables are used non-sequentially.)</p><p>(note: the variables in the code were named to be consistent with
<code><a href="Workflow-OSX-Execute.html#v:gensym">gensym</a></code>, for readability. but of course the bindings aren't reified,
and they could have been named anything)</p><p>basically, the monadically-bound variable <code>x1</code> is shown as if it were literally <code>&quot;{x1}&quot;</code> (rather than, the current clipboard contents). a more complicated alternative could be to purely model the state: e.g. a clipboard, with <code><a href="Workflow-OSX-Types.html#v:SetClipboard">SetClipboard</a></code> and <code><a href="Workflow-OSX-Types.html#v:GetClipboard">GetClipboard</a></code> working together, etc.).</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:Gensym" class="def">Gensym</a> = <a href="${pkgroot}/../../share/doc/ghc/html/libraries/base-4.8.0.0/Data-Int.html#t:Int">Int</a></p></div><div class="top"><p class="src"><a name="v:gensym" class="def">gensym</a> :: <a href="${pkgroot}/../../share/doc/ghc/html/libraries/transformers-0.4.2.0/Control-Monad-Trans-State-Lazy.html#t:State">State</a> <a href="Workflow-OSX-Execute.html#t:Gensym">Gensym</a> <a href="${pkgroot}/../../share/doc/ghc/html/libraries/base-4.8.0.0/Data-String.html#t:String">String</a></p></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.16.0</p></div></body></html>